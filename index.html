<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dive, Laugh, Love</title>
  <link rel="stylesheet" href="styles/base.css" />
  <link rel="stylesheet" href="styles/board.css" />
  <link rel="stylesheet" href="styles/ui.css" />
</head>
<body>
  <div class="game-wrapper">
    <h1 class="game-title">
      <span class="title-dive">Dive</span><span class="title-comma">,</span>
      <span class="title-laugh">Laugh</span><span class="title-comma">,</span>
      <span class="title-love">Love</span>
      <span class="title-wave">ğŸŒŠ</span>
    </h1>

    <!-- Mode selection â€” Step 1: Local or Online -->
    <div id="mode-select">
      <button id="mode-local-btn" class="mode-btn">ğŸ² Local (Same Screen)</button>
      <button id="mode-online-btn" class="mode-btn">ğŸŒ Online</button>
    </div>

    <!-- Mode selection â€” Step 2: Versus or Co-op -->
    <div id="mode-type-select" style="display:none">
      <button id="type-versus-btn" class="mode-btn">âš”ï¸ Versus</button>
      <button id="type-coop-btn" class="mode-btn coop-btn">ğŸ¤ Co-op</button>
      <br />
      <button id="back-to-step1-btn" class="back-btn">â† Back</button>
    </div>

    <!-- Local setup screen -->
    <div id="setup" style="display:none">
      <h2>New Local Game</h2>
      <div id="player-list">
        <div class="player-input"><label>Player 1: <input type="text" class="player-name" placeholder="Name" maxlength="12" /></label></div>
        <div class="player-input"><label>Player 2: <input type="text" class="player-name" placeholder="Name" maxlength="12" /></label></div>
      </div>
      <button id="add-player-btn">+ Add Player</button>
      <br />
      <button id="start-btn">Start Game</button>
      <button id="back-to-mode-btn" class="back-btn">â† Back</button>
      <p class="disclaimer">
        This is an unofficial fan project and is <strong>not affiliated</strong> with the original creators.<br />
        Inspired by Deep Sea Adventure, an awesome board game by <strong>Oink Games</strong> â€” if you enjoy it, please
        <a href="https://oinkgames.com/en/games/analog/deep-sea-adventure/" target="_blank" rel="noopener">support the creators</a>
        and buy the original! ğŸ²
      </p>
    </div>

    <!-- Co-op setup screen -->
    <div id="coop-setup" style="display:none">
      <h2>ğŸ¤ Co-op Mission</h2>
      <div id="coop-player-list">
        <div class="player-input"><label>Player 1: <input type="text" class="coop-player-name" placeholder="Name" maxlength="12" /></label></div>
        <div class="player-input"><label>Player 2: <input type="text" class="coop-player-name" placeholder="Name" maxlength="12" /></label></div>
      </div>
      <button id="coop-add-player-btn">+ Add Player</button>
      <div class="mission-select">
        <h3>Choose a Mission</h3>
        <div class="mission-card selected" data-mission="treasure">
          <div class="mission-icon">ğŸ’°</div>
          <div class="mission-title">Treasure Haul</div>
          <div class="mission-desc">Collect <strong>30 points per player</strong> together as a team.<br/>Pool your treasure and hit the target!</div>
        </div>
        <div class="mission-card" data-mission="monsters">
          <div class="mission-icon">ğŸ™</div>
          <div class="mission-title">Monster Hunt</div>
          <div class="mission-desc">Sea monsters block the path â€” one per player! Buy bombs on the sub (20 pts) to destroy them.<br/>Destroy all monsters and get everyone home safely!</div>
        </div>
      </div>
      <br />
      <button id="coop-start-btn">Start Mission</button>
      <button id="back-to-mode-btn-coop" class="back-btn">â† Back</button>
      <p class="disclaimer">
        This is an unofficial fan project and is <strong>not affiliated</strong> with the original creators.<br />
        Inspired by Deep Sea Adventure, an awesome board game by <strong>Oink Games</strong> â€” if you enjoy it, please
        <a href="https://oinkgames.com/en/games/analog/deep-sea-adventure/" target="_blank" rel="noopener">support the creators</a>
        and buy the original! ğŸ²
      </p>
    </div>

    <!-- Online lobby -->
    <div id="lobby" style="display:none">
      <h2>Online Multiplayer</h2>
      <div id="lobby-connect">
        <div class="lobby-section">
          <h3>Create a Room</h3>
          <label>Your Name: <input type="text" id="create-name" placeholder="Name" maxlength="12" /></label>
          <br />
          <button id="create-room-btn" class="mode-btn">Create Room</button>
        </div>
        <div class="lobby-divider">â€” or â€”</div>
        <div class="lobby-section">
          <h3>Join a Room</h3>
          <label>Your Name: <input type="text" id="join-name" placeholder="Name" maxlength="12" /></label>
          <br />
          <label>Room Code: <input type="text" id="join-code" placeholder="ABCD" maxlength="4" style="text-transform:uppercase" /></label>
          <br />
          <button id="join-room-btn" class="mode-btn">Join Room</button>
        </div>
      </div>
      <div id="lobby-waiting" style="display:none">
        <div class="room-code-display">Room Code: <strong id="room-code-value"></strong></div>
        <p>Share this code with friends to let them join!</p>
        <div id="lobby-players"></div>
        <button id="start-online-btn" class="mode-btn" style="display:none">ğŸš€ Start Game</button>
        <p id="lobby-wait-msg" class="lobby-hint">Waiting for host to startâ€¦</p>
      </div>
      <div id="lobby-error" class="lobby-error"></div>
      <button id="back-to-mode-btn-2" class="back-btn">â† Back</button>
      <p class="disclaimer">
        This is an unofficial fan project and is <strong>not affiliated</strong> with the original creators.<br />
        Inspired by Deep Sea Adventure, an awesome board game by <strong>Oink Games</strong> â€” if you enjoy it, please
        <a href="https://oinkgames.com/en/games/analog/deep-sea-adventure/" target="_blank" rel="noopener">support the creators</a>
        and buy the original! ğŸ²
      </p>
    </div>

    <!-- Online co-op lobby -->
    <div id="coop-lobby" style="display:none">
      <h2>ğŸŒğŸ¤ Online Co-op</h2>
      <div id="coop-lobby-connect">
        <div class="mission-select">
          <h3>Choose a Mission</h3>
          <div class="mission-card selected" data-mission="treasure" id="coop-online-mission-treasure">
            <div class="mission-icon">ğŸ’°</div>
            <div class="mission-title">Treasure Haul</div>
            <div class="mission-desc">Collect <strong>30 points per player</strong> together as a team.</div>
          </div>
          <div class="mission-card" data-mission="monsters" id="coop-online-mission-monsters">
            <div class="mission-icon">ğŸ™</div>
            <div class="mission-title">Monster Hunt</div>
            <div class="mission-desc">Sea monsters block the path â€” one per player! Buy bombs to destroy them all!</div>
          </div>
        </div>
        <div class="lobby-section">
          <h3>Create a Co-op Room</h3>
          <label>Your Name: <input type="text" id="coop-create-name" placeholder="Name" maxlength="12" /></label>
          <br />
          <button id="coop-create-room-btn" class="mode-btn coop-btn">Create Co-op Room</button>
        </div>
        <div class="lobby-divider">â€” or â€”</div>
        <div class="lobby-section">
          <h3>Join a Co-op Room</h3>
          <label>Your Name: <input type="text" id="coop-join-name" placeholder="Name" maxlength="12" /></label>
          <br />
          <label>Room Code: <input type="text" id="coop-join-code" placeholder="ABCD" maxlength="4" style="text-transform:uppercase" /></label>
          <br />
          <button id="coop-join-room-btn" class="mode-btn coop-btn">Join Co-op Room</button>
        </div>
      </div>
      <div id="coop-lobby-waiting" style="display:none">
        <div class="room-code-display">Room Code: <strong id="coop-room-code-value"></strong></div>
        <p>Share this code with teammates to let them join!</p>
        <div id="coop-lobby-mission-label" class="coop-mission-label"></div>
        <div id="coop-lobby-players"></div>
        <button id="coop-start-online-btn" class="mode-btn coop-btn" style="display:none">ğŸš€ Start Mission</button>
        <p id="coop-lobby-wait-msg" class="lobby-hint">Waiting for host to startâ€¦</p>
      </div>
      <div id="coop-lobby-error" class="lobby-error"></div>
      <button id="back-to-mode-btn-3" class="back-btn">â† Back</button>
      <p class="disclaimer">
        This is an unofficial fan project and is <strong>not affiliated</strong> with the original creators.<br />
        Inspired by Deep Sea Adventure, an awesome board game by <strong>Oink Games</strong> â€” if you enjoy it, please
        <a href="https://oinkgames.com/en/games/analog/deep-sea-adventure/" target="_blank" rel="noopener">support the creators</a>
        and buy the original! ğŸ²
      </p>
    </div>

    <!-- Game area -->
    <div id="hud"></div>
    <div id="board"></div>
    <div id="controls"></div>
    <div id="game-log"></div>
  </div>

  <script type="module" src="src/main.js"></script>
</body>
</html>
